function ruint8(e,t,r){if(void 0===t)throw Error("missing endian");if(void 0===e)throw Error("missing buffer");if(void 0===r)throw Error("missing offset");if(r>=e.length)throw Error("Trying to read beyond buffer length");return e[r]}function ruint16(e,t,r){var o=0;if(void 0===t)throw Error("missing endian");if(void 0===e)throw Error("missing buffer");if(void 0===r)throw Error("missing offset");if(r+1>=e.length)throw Error("Trying to read beyond buffer length");return"big"==t?(o=e[r]<<8,o|=e[r+1]):(o=e[r],o|=e[r+1]<<8),o}function fixu32(e,t){return e*(1<<24)+t}function ruint32(e,t,r){var o=0;if(void 0===t)throw Error("missing endian");if(void 0===e)throw Error("missing buffer");if(void 0===r)throw Error("missing offset");if(r+3>=e.length)throw Error("Trying to read beyond buffer length");return"big"==t?(o=e[r+1]<<16,o|=e[r+2]<<8,o|=e[r+3],o=fixu32(e[r],o)):(o=e[r+2]<<16,o|=e[r+1]<<8,o|=e[r],o=fixu32(e[r+3],o)),o}function ruint64(e,t,r){var o=Array(2);if(void 0===t)throw Error("missing endian");if(void 0===e)throw Error("missing buffer");if(void 0===r)throw Error("missing offset");if(r+7>=e.length)throw Error("Trying to read beyond buffer length");return"big"==t?(o[0]=ruint32(e,t,r),o[1]=ruint32(e,t,r+4)):(o[0]=ruint32(e,t,r+4),o[1]=ruint32(e,t,r)),o}function rsint8(e,t,r){var o;if(void 0===t)throw Error("missing endian");if(void 0===e)throw Error("missing buffer");if(void 0===r)throw Error("missing offset");if(r>=e.length)throw Error("Trying to read beyond buffer length");return o=128&e[r],o?-1*(255-e[r]+1):e[r]}function rsint16(e,t,r){var o,i;if(void 0===t)throw Error("missing endian");if(void 0===e)throw Error("missing buffer");if(void 0===r)throw Error("missing offset");if(r+1>=e.length)throw Error("Trying to read beyond buffer length");return i=ruint16(e,t,r),o=32768&i,o?-1*(65535-i+1):i}function rsint32(e,t,r){var o,i;if(void 0===t)throw Error("missing endian");if(void 0===e)throw Error("missing buffer");if(void 0===r)throw Error("missing offset");if(r+3>=e.length)throw Error("Trying to read beyond buffer length");return i=ruint32(e,t,r),o=2147483648&i,o?-1*(4294967295-i+1):i}function rsint64(e,t,r){var o,i;if(void 0===t)throw Error("missing endian");if(void 0===e)throw Error("missing buffer");if(void 0===r)throw Error("missing offset");if(r+3>=e.length)throw Error("Trying to read beyond buffer length");return i=ruint64(e,t,r),(o=2147483648&i[0])?(i[0]=-1*(4294967295-i[0]),i[1]=-1*(4294967295-i[1]+1),i):i}function rfloat(e,t,r){var o,i,n,s,a=[],c=127,h=255;if(void 0===t)throw Error("missing endian");if(void 0===e)throw Error("missing buffer");if(void 0===r)throw Error("missing offset");if(r+3>=e.length)throw Error("Trying to read beyond buffer length");return"big"==t?(a[0]=e[r],a[1]=e[r+1],a[2]=e[r+2],a[3]=e[r+3]):(a[3]=e[r],a[2]=e[r+1],a[1]=e[r+2],a[0]=e[r+3]),o=128&a[0],i=(127&a[0])<<1,i|=(128&a[1])>>>7,n=(127&a[1])<<16,n|=a[2]<<8,n|=a[3],o||i!=h||0!==n?o&&i==h&&0===n?Number.NEGATIVE_INFINITY:i==h&&0!==n?Number.NaN:0===i&&0===n?0:(i-=c,i==-c?(i++,s=0):s=1,s=(s+n*Math.pow(2,-23))*Math.pow(2,i),o&&(s*=-1),s):Number.POSITIVE_INFINITY}function rdouble(e,t,r){var o,i,n,s,a,c=[],h=1023,u=2047;if(void 0===t)throw Error("missing endian");if(void 0===e)throw Error("missing buffer");if(void 0===r)throw Error("missing offset");if(r+7>=e.length)throw Error("Trying to read beyond buffer length");return"big"==t?(c[0]=e[r],c[1]=e[r+1],c[2]=e[r+2],c[3]=e[r+3],c[4]=e[r+4],c[5]=e[r+5],c[6]=e[r+6],c[7]=e[r+7]):(c[7]=e[r],c[6]=e[r+1],c[5]=e[r+2],c[4]=e[r+3],c[3]=e[r+4],c[2]=e[r+5],c[1]=e[r+6],c[0]=e[r+7]),o=128&c[0],i=(127&c[0])<<4,i|=(240&c[1])>>>4,a=c[7],a|=c[6]<<8,a|=c[5]<<16,n=c[4],n|=c[3]<<8,n|=c[2]<<16,n|=(15&c[1])<<24,n*=Math.pow(2,24),n+=a,o||i!=u||0!==n?o&&i==u&&0===n?Number.NEGATIVE_INFINITY:i==u&&0!==n?Number.NaN:0===i&&0===n?0:(i-=h,i==-h?(i++,s=0):s=1,s=(s+n*Math.pow(2,-52))*Math.pow(2,i),o&&(s*=-1),s):Number.POSITIVE_INFINITY}function prepuint(e,t){if("number"!=typeof e)throw new(Error("cannot write a non-number as a number"));if(0>e)throw Error("specified a negative value for writing an unsigned value");if(e>t)throw Error("value is larger than maximum value for type");if(Math.floor(e)!==e)throw Error("value has a fractional component");return e}function wuint8(e,t,r,o){var i;if(void 0===e)throw Error("missing value");if(void 0===t)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o>=r.length)throw Error("Trying to read beyond buffer length");i=prepuint(e,255),r[o]=i}function wuint16(e,t,r,o){var i;if(void 0===e)throw Error("missing value");if(void 0===t)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+1>=r.length)throw Error("Trying to read beyond buffer length");i=prepuint(e,65535),"big"==t?(r[o]=(65280&i)>>>8,r[o+1]=255&i):(r[o+1]=(65280&i)>>>8,r[o]=255&i)}function wuint32(e,t,r,o){var i;if(void 0===e)throw Error("missing value");if(void 0===t)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+3>=r.length)throw Error("Trying to read beyond buffer length");i=prepuint(e,4294967295),"big"==t?(r[o]=(i-(16777215&i))/Math.pow(2,24),r[o+1]=255&i>>>16,r[o+2]=255&i>>>8,r[o+3]=255&i):(r[o+3]=(i-(16777215&i))/Math.pow(2,24),r[o+2]=255&i>>>16,r[o+1]=255&i>>>8,r[o]=255&i)}function wuint64(e,t,r,o){if(void 0===e)throw Error("missing value");if(!(e instanceof Array))throw Error("value must be an array");if(2!=e.length)throw Error("value must be an array of length 2");if(void 0===t)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+7>=r.length)throw Error("Trying to read beyond buffer length");prepuint(e[0],4294967295),prepuint(e[1],4294967295),"big"==t?(wuint32(e[0],t,r,o),wuint32(e[1],t,r,o+3)):(wuint32(e[0],t,r,o+3),wuint32(e[1],t,r,o))}function prepsint(e,t,r){if("number"!=typeof e)throw new(Error("cannot write a non-number as a number"));if(e>t)throw Error("value larger than maximum allowed value");if(r>e)throw Error("value smaller than minimum allowed value");if(Math.floor(e)!==e)throw Error("value has a fractional component");return e}function wsint8(e,t,r,o){var i;if(void 0===e)throw Error("missing value");if(void 0===t)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o>=r.length)throw Error("Trying to read beyond buffer length");i=prepsint(e,127,-240),i>=0?wuint8(i,t,r,o):wuint8(255+i+1,t,r,o)}function wsint16(e,t,r,o){var i;if(void 0===e)throw Error("missing value");if(void 0===t)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+1>=r.length)throw Error("Trying to read beyond buffer length");i=prepsint(e,32767,-61440),i>=0?wuint16(i,t,r,o):wuint16(65535+i+1,t,r,o)}function wsint32(e,t,r,o){var i;if(void 0===e)throw Error("missing value");if(void 0===t)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+3>=r.length)throw Error("Trying to read beyond buffer length");i=prepsint(e,2147483647,-4026531840),i>=0?wuint32(i,t,r,o):wuint32(4294967295+i+1,t,r,o)}function wsint64(e,t,r,o){var i=Array(2);if(void 0===e)throw Error("missing value");if(!(e instanceof Array))throw Error("value must be an array");if(2!=e.length)throw Error("value must be an array of length 2");if(void 0===t)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+7>=r.length)throw Error("Trying to read beyond buffer length");prepsint(e[0],2147483647,-4026531840),prepsint(e[1],4294967295,-4294967295),0>e[0]||0>e[1]?(i[0]=4294967295-Math.abs(e[0]),i[1]=4294967296-Math.abs(e[1]),4294967296==i[1]&&(i[1]=0,i[0]++)):(i[0]=e[0],i[1]=e[1]),"big"==t?(wuint32(i[0],t,r,o),wuint32(i[1],t,r,o+4)):(wuint32(i[0],t,r,o+4),wuint32(i[1],t,r,o))}function log2(e){return Math.log(e)/Math.log(2)}function intexp(e){return Math.floor(log2(e))}function fracexp(e){return Math.floor(log2(e))}function wfloat(e,t,r,o){var i,n,s,a,c=[];if(void 0===e)throw Error("missing value");if(void 0===t)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+3>=r.length)throw Error("Trying to read beyond buffer length");isNaN(e)?(i=0,n=255,s=23):e==Number.POSITIVE_INFINITY?(i=0,n=255,s=0):e==Number.NEGATIVE_INFINITY?(i=1,n=255,s=0):(0>e?(i=1,e=Math.abs(e)):i=0,a=1>e?fracexp(e):intexp(e),-127>=a?(n=0,s=8388607&e*Math.pow(2,149)):(n=127+a,s=e*Math.pow(2,23-a),s&=8388607)),c[0]=i<<7|(254&n)>>>1,c[1]=(1&n)<<7|(8323072&s)>>>16,c[2]=(65280&s)>>>8,c[3]=255&s,"big"==t?(r[o]=c[0],r[o+1]=c[1],r[o+2]=c[2],r[o+3]=c[3]):(r[o]=c[3],r[o+1]=c[2],r[o+2]=c[1],r[o+3]=c[0])}function wdouble(e,t,r,o){var i,n,s,a,c=[];if(void 0===e)throw Error("missing value");if(void 0===t)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+7>=r.length)throw Error("Trying to read beyond buffer length");isNaN(e)?(i=0,n=2047,s=23):e==Number.POSITIVE_INFINITY?(i=0,n=2047,s=0):e==Number.NEGATIVE_INFINITY?(i=1,n=2047,s=0):(0>e?(i=1,e=Math.abs(e)):i=0,a=1>e?fracexp(e):intexp(e),2.225073858507201e-308>=e||-1023>=a?(n=0,s=e*Math.pow(2,1023)*Math.pow(2,51),s%=Math.pow(2,52)):(a>1023&&(a=1023),n=1023+a,s=e*Math.pow(2,-a),s*=Math.pow(2,52),s%=Math.pow(2,52))),c[7]=255&s,c[6]=255&s>>>8,c[5]=255&s>>>16,s=(s-(16777215&s))/Math.pow(2,24),c[4]=255&s,c[3]=255&s>>>8,c[2]=255&s>>>16,c[1]=(15&n)<<4|s>>>24,c[0]=i<<7|(2032&n)>>>4,"big"==t?(r[o]=c[0],r[o+1]=c[1],r[o+2]=c[2],r[o+3]=c[3],r[o+4]=c[4],r[o+5]=c[5],r[o+6]=c[6],r[o+7]=c[7]):(r[o+7]=c[0],r[o+6]=c[1],r[o+5]=c[2],r[o+4]=c[3],r[o+3]=c[4],r[o+2]=c[5],r[o+1]=c[6],r[o]=c[7])}exports.ruint8=ruint8,exports.ruint16=ruint16,exports.ruint32=ruint32,exports.ruint64=ruint64,exports.wuint8=wuint8,exports.wuint16=wuint16,exports.wuint32=wuint32,exports.wuint64=wuint64,exports.rsint8=rsint8,exports.rsint16=rsint16,exports.rsint32=rsint32,exports.rsint64=rsint64,exports.wsint8=wsint8,exports.wsint16=wsint16,exports.wsint32=wsint32,exports.wsint64=wsint64,exports.rfloat=rfloat,exports.rdouble=rdouble,exports.wfloat=wfloat,exports.wdouble=wdouble;