(function(e,t){var o=e;o.version="0.9.1-1",o.protocol=1,o.transports=[],o.j=[],o.sockets={},"object"==typeof module&&"function"==typeof require&&(o.util=require("./util").util,o.JSON=require("./json").JSON,o.parser=require("./parser").parser,o.EventEmitter=require("./events").EventEmitter,o.SocketNamespace=require("./namespace").SocketNamespace,o.Transport=require("./transport").Transport,o.transports=["websocket","xhr-polling"],o.Transport.XHR=require("./transports/xhr").XHR,o.transports.forEach(function(e){o.Transport[e]=require("./transports/"+e)[e]}),o.Socket=require("./socket").Socket,o.dist=__dirname+"/../dist",o.builder=require("../bin/builder")),o.connect=function(e,n){var r,i,s=o.util.parseUri(e);t&&t.location&&(s.protocol=s.protocol||t.location.protocol.slice(0,-1),s.host=s.host||(t.document?t.document.domain:t.location.hostname),s.port=s.port||t.location.port),r=o.util.uniqueUri(s);var a={host:s.host,secure:"https"==s.protocol,port:s.port||("https"==s.protocol?443:80),query:s.query||""};return o.util.merge(a,n),(a["force new connection"]||!o.sockets[r])&&(i=new o.Socket(a)),!a["force new connection"]&&i&&(o.sockets[r]=i),i=i||o.sockets[r],i.of(s.path.length>1?s.path:"")}})("object"==typeof module?module.exports:this.io={},this);