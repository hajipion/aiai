(function(e,t){function o(){t.Transport.XHR.apply(this,arguments)}e.htmlfile=o,t.util.inherit(o,t.Transport.XHR),o.prototype.name="htmlfile",o.prototype.get=function(){this.doc=new ActiveXObject("htmlfile"),this.doc.open(),this.doc.write("<html></html>"),this.doc.close(),this.doc.parentWindow.s=this;var e=this.doc.createElement("div");e.className="socketio",this.doc.body.appendChild(e),this.iframe=this.doc.createElement("iframe"),e.appendChild(this.iframe);var o=this,n=t.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+n,t.util.on(window,"unload",function(){o.destroy()})},o.prototype._=function(e,t){this.onData(e);try{var o=t.getElementsByTagName("script")[0];o.parentNode.removeChild(o)}catch(n){}},o.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(e){}this.doc=null,this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,CollectGarbage()}},o.prototype.close=function(){return this.destroy(),t.Transport.XHR.prototype.close.call(this)},o.check=function(){if("undefined"!=typeof window&&"ActiveXObject"in window)try{var e=new ActiveXObject("htmlfile");return e&&t.Transport.XHR.check()}catch(o){}return!1},o.xdomainCheck=function(){return!1},t.transports.push("htmlfile")})("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);